{"ast":null,"code":"import { apiService } from \"./APIServices\";\nexport const authenticationService = {\n  login,\n  signup,\n  logout\n};\n\nconst axios = require(\"axios\");\n\nfunction login(email, password, self) {\n  const data = {\n    email: email,\n    password: password\n  };\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  return axios.post(apiService.login, data, header).then(function (response) {\n    //console.log(response.data.token);\n    localStorage.setItem(\"currentUser\", response.data.token);\n    self.props.history.push(\"/\");\n  }).catch(function (error) {\n    //console.log(\"error\");\n    if (!self.unmount) self.setState({\n      error\n    });\n  });\n}\n\nfunction signup(email, password, self) {\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  const data = {\n    email: email,\n    password: password,\n    name: \"nousername\"\n  };\n  return axios.post(apiService.character, data, header).then(function (response) {\n    self.props.history.push(\"/login\");\n    console.log(response);\n  }).catch(function (error) {\n    if (!self.unmount) self.setState({\n      error\n    });\n  });\n}\n\nfunction logout() {\n  console.log(\"logout\");\n  localStorage.removeItem(\"currentUser\");\n}","map":{"version":3,"sources":["/Users/xiaocase/Documents/GitHub/first-web-game-lb4/firstgame-frontend/src/services/AuthServices.js"],"names":["apiService","authenticationService","login","signup","logout","axios","require","email","password","self","data","header","post","then","response","localStorage","setItem","token","props","history","push","catch","error","unmount","setState","name","character","console","log","removeItem"],"mappings":"AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,OAAO,MAAMC,qBAAqB,GAAG;AACnCC,EAAAA,KADmC;AAEnCC,EAAAA,MAFmC;AAGnCC,EAAAA;AAHmC,CAA9B;;AAMP,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,SAASJ,KAAT,CAAeK,KAAf,EAAsBC,QAAtB,EAAgCC,IAAhC,EAAsC;AACpC,QAAMC,IAAI,GAAG;AACXH,IAAAA,KAAK,EAAEA,KADI;AAEXC,IAAAA,QAAQ,EAAEA;AAFC,GAAb;AAIA,QAAMG,MAAM,GAAG;AACb,oBAAgB;AADH,GAAf;AAGA,SAAON,KAAK,CACTO,IADI,CACCZ,UAAU,CAACE,KADZ,EACmBQ,IADnB,EACyBC,MADzB,EAEJE,IAFI,CAEC,UAASC,QAAT,EAAmB;AACvB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,QAAQ,CAACJ,IAAT,CAAcO,KAAlD;AACAR,IAAAA,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,GANI,EAOJC,KAPI,CAOE,UAASC,KAAT,EAAgB;AACrB;AACA,QAAI,CAACb,IAAI,CAACc,OAAV,EAAmBd,IAAI,CAACe,QAAL,CAAc;AAAEF,MAAAA;AAAF,KAAd;AACpB,GAVI,CAAP;AAWD;;AAED,SAASnB,MAAT,CAAgBI,KAAhB,EAAuBC,QAAvB,EAAiCC,IAAjC,EAAuC;AACrC,QAAME,MAAM,GAAG;AACb,oBAAgB;AADH,GAAf;AAGA,QAAMD,IAAI,GAAG;AACXH,IAAAA,KAAK,EAAEA,KADI;AAEXC,IAAAA,QAAQ,EAAEA,QAFC;AAGXiB,IAAAA,IAAI,EAAE;AAHK,GAAb;AAKA,SAAOpB,KAAK,CACTO,IADI,CACCZ,UAAU,CAAC0B,SADZ,EACuBhB,IADvB,EAC6BC,MAD7B,EAEJE,IAFI,CAEC,UAASC,QAAT,EAAmB;AACvBL,IAAAA,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ;AACD,GALI,EAMJO,KANI,CAME,UAASC,KAAT,EAAgB;AACrB,QAAI,CAACb,IAAI,CAACc,OAAV,EAAmBd,IAAI,CAACe,QAAL,CAAc;AAAEF,MAAAA;AAAF,KAAd;AACpB,GARI,CAAP;AASD;;AAED,SAASlB,MAAT,GAAkB;AAChBuB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAb,EAAAA,YAAY,CAACc,UAAb,CAAwB,aAAxB;AACD","sourcesContent":["import { apiService } from \"./APIServices\";\nexport const authenticationService = {\n  login,\n  signup,\n  logout\n};\n\nconst axios = require(\"axios\");\n\nfunction login(email, password, self) {\n  const data = {\n    email: email,\n    password: password\n  };\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  return axios\n    .post(apiService.login, data, header)\n    .then(function(response) {\n      //console.log(response.data.token);\n      localStorage.setItem(\"currentUser\", response.data.token);\n      self.props.history.push(\"/\");\n    })\n    .catch(function(error) {\n      //console.log(\"error\");\n      if (!self.unmount) self.setState({ error });\n    });\n}\n\nfunction signup(email, password, self) {\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  const data = {\n    email: email,\n    password: password,\n    name: \"nousername\"\n  };\n  return axios\n    .post(apiService.character, data, header)\n    .then(function(response) {\n      self.props.history.push(\"/login\");\n      console.log(response);\n    })\n    .catch(function(error) {\n      if (!self.unmount) self.setState({ error });\n    });\n}\n\nfunction logout() {\n  console.log(\"logout\");\n  localStorage.removeItem(\"currentUser\");\n}\n"]},"metadata":{},"sourceType":"module"}