{"ast":null,"code":"import { authenticationService } from \"./AuthServices\";\nimport { apiService } from \"./APIServices\";\nexport const userService = {\n  getUserData,\n  getGearData,\n  initCharacter\n};\n\nconst axios = require(\"axios\");\n\nfunction getUserData(currentUser, self) {\n  axios.get(apiService.character, {\n    headers: {\n      Authorization: \"Bearer \".concat(currentUser)\n    }\n  }).then(function (response) {\n    //console.log(response.data);\n    self.setState({\n      data: response.data\n    });\n  }).catch(function (error) {\n    authenticationService.logout();\n  });\n}\n\nfunction getGearData(currentUser, self) {\n  axios.get(apiService.updatecharacter, {\n    headers: {\n      Authorization: \"Bearer \".concat(currentUser)\n    }\n  }).then(function (response) {\n    //console.log(response.data);\n    self.setState({\n      gear: response.data\n    });\n  }).catch(function (error) {\n    authenticationService.logout();\n  });\n}\n\nfunction initCharacter(currentUser, name, gear, self) {\n  const URL = apiService.changename + \"?name=\".concat(name);\n  const header = {\n    Authorization: \"Bearer \".concat(currentUser)\n  };\n  console.log(URL);\n  console.log(currentUser);\n  axios.post(apiService.changename, {\n    headers: {\n      \"Access-Control-Allow-Headers\": Authorization,\n      \"Access-Control-Allow-Origin\": apiService.changename,\n      Authorization: \"Bearer \".concat(currentUser)\n    }\n  }).then(function (response) {//console.log(response.data);\n    //self.setState({ gear: response.data });\n  }).catch(function (error) {//authenticationService.logout();\n  }); //   axios\n  //     .patch(URL, header)\n  //     .then(function(response) {\n  //       console.log(response.data);\n  //       self.setState({ data: response.data });\n  //     })\n  //     .catch(function(error) {\n  //       authenticationService.logout();\n  //     })\n  //     .then(function() {\n  //       if (!self.unmount) self.setState({ loading: false });\n  //     });\n}","map":{"version":3,"sources":["/Users/xiaocase/Documents/GitHub/first-web-game-lb4/firstgame-frontend/src/services/UserServices.js"],"names":["authenticationService","apiService","userService","getUserData","getGearData","initCharacter","axios","require","currentUser","self","get","character","headers","Authorization","then","response","setState","data","catch","error","logout","updatecharacter","gear","name","URL","changename","header","console","log","post"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,gBAAtC;AACA,SAASC,UAAT,QAA2B,eAA3B;AAEA,OAAO,MAAMC,WAAW,GAAG;AACzBC,EAAAA,WADyB;AAEzBC,EAAAA,WAFyB;AAGzBC,EAAAA;AAHyB,CAApB;;AAMP,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,SAASJ,WAAT,CAAqBK,WAArB,EAAkCC,IAAlC,EAAwC;AACtCH,EAAAA,KAAK,CACFI,GADH,CACOT,UAAU,CAACU,SADlB,EAC6B;AACzBC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,mBAAYL,WAAZ;AAAf;AADgB,GAD7B,EAIGM,IAJH,CAIQ,UAASC,QAAT,EAAmB;AACvB;AACAN,IAAAA,IAAI,CAACO,QAAL,CAAc;AAAEC,MAAAA,IAAI,EAAEF,QAAQ,CAACE;AAAjB,KAAd;AACD,GAPH,EAQGC,KARH,CAQS,UAASC,KAAT,EAAgB;AACrBnB,IAAAA,qBAAqB,CAACoB,MAAtB;AACD,GAVH;AAWD;;AAED,SAAShB,WAAT,CAAqBI,WAArB,EAAkCC,IAAlC,EAAwC;AACtCH,EAAAA,KAAK,CACFI,GADH,CACOT,UAAU,CAACoB,eADlB,EACmC;AAC/BT,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,mBAAYL,WAAZ;AAAf;AADsB,GADnC,EAIGM,IAJH,CAIQ,UAASC,QAAT,EAAmB;AACvB;AACAN,IAAAA,IAAI,CAACO,QAAL,CAAc;AAAEM,MAAAA,IAAI,EAAEP,QAAQ,CAACE;AAAjB,KAAd;AACD,GAPH,EAQGC,KARH,CAQS,UAASC,KAAT,EAAgB;AACrBnB,IAAAA,qBAAqB,CAACoB,MAAtB;AACD,GAVH;AAWD;;AAED,SAASf,aAAT,CAAuBG,WAAvB,EAAoCe,IAApC,EAA0CD,IAA1C,EAAgDb,IAAhD,EAAsD;AACpD,QAAMe,GAAG,GAAGvB,UAAU,CAACwB,UAAX,mBAAiCF,IAAjC,CAAZ;AACA,QAAMG,MAAM,GAAG;AACbb,IAAAA,aAAa,mBAAYL,WAAZ;AADA,GAAf;AAGAmB,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYpB,WAAZ;AAEAF,EAAAA,KAAK,CACFuB,IADH,CACQ5B,UAAU,CAACwB,UADnB,EAC+B;AAC3Bb,IAAAA,OAAO,EAAE;AACP,sCAAgCC,aADzB;AAEP,qCAA+BZ,UAAU,CAACwB,UAFnC;AAGPZ,MAAAA,aAAa,mBAAYL,WAAZ;AAHN;AADkB,GAD/B,EAQGM,IARH,CAQQ,UAASC,QAAT,EAAmB,CACvB;AACA;AACD,GAXH,EAYGG,KAZH,CAYS,UAASC,KAAT,EAAgB,CACrB;AACD,GAdH,EARoD,CAuBpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD","sourcesContent":["import { authenticationService } from \"./AuthServices\";\nimport { apiService } from \"./APIServices\";\n\nexport const userService = {\n  getUserData,\n  getGearData,\n  initCharacter\n};\n\nconst axios = require(\"axios\");\n\nfunction getUserData(currentUser, self) {\n  axios\n    .get(apiService.character, {\n      headers: { Authorization: `Bearer ${currentUser}` }\n    })\n    .then(function(response) {\n      //console.log(response.data);\n      self.setState({ data: response.data });\n    })\n    .catch(function(error) {\n      authenticationService.logout();\n    });\n}\n\nfunction getGearData(currentUser, self) {\n  axios\n    .get(apiService.updatecharacter, {\n      headers: { Authorization: `Bearer ${currentUser}` }\n    })\n    .then(function(response) {\n      //console.log(response.data);\n      self.setState({ gear: response.data });\n    })\n    .catch(function(error) {\n      authenticationService.logout();\n    });\n}\n\nfunction initCharacter(currentUser, name, gear, self) {\n  const URL = apiService.changename + `?name=${name}`;\n  const header = {\n    Authorization: `Bearer ${currentUser}`\n  };\n  console.log(URL);\n  console.log(currentUser);\n\n  axios\n    .post(apiService.changename, {\n      headers: {\n        \"Access-Control-Allow-Headers\": Authorization,\n        \"Access-Control-Allow-Origin\": apiService.changename,\n        Authorization: `Bearer ${currentUser}`\n      }\n    })\n    .then(function(response) {\n      //console.log(response.data);\n      //self.setState({ gear: response.data });\n    })\n    .catch(function(error) {\n      //authenticationService.logout();\n    });\n  //   axios\n  //     .patch(URL, header)\n  //     .then(function(response) {\n  //       console.log(response.data);\n  //       self.setState({ data: response.data });\n  //     })\n  //     .catch(function(error) {\n  //       authenticationService.logout();\n  //     })\n  //     .then(function() {\n  //       if (!self.unmount) self.setState({ loading: false });\n  //     });\n}\n"]},"metadata":{},"sourceType":"module"}