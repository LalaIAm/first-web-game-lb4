{"ast":null,"code":"export const authenticationService = {\n  login,\n  logout\n};\n\nfunction login(username, password) {\n  const data = {\n    email: email,\n    password: password\n  };\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  return axios.post(\"http://[::1]:3000/characters/login\", data, header).then(function (response) {\n    console.log(response.data.token);\n    localStorage.setItem(\"currentUser\", response.data.token);\n  }).catch(function (error) {\n    this.setState({\n      error\n    });\n    console.log(error);\n  }.bind(this)).then(function () {\n    this.setState({\n      loading: false\n    });\n    this.props.history.push(\"/\");\n  }.bind(this));\n}","map":{"version":3,"sources":["/Users/xiaocase/Documents/react/firstgame-frontend/src/services/AuthServices.js"],"names":["authenticationService","login","logout","username","password","data","email","header","axios","post","then","response","console","log","token","localStorage","setItem","catch","error","setState","bind","loading","props","history","push"],"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAG;AACnCC,EAAAA,KADmC;AAEnCC,EAAAA;AAFmC,CAA9B;;AAKP,SAASD,KAAT,CAAeE,QAAf,EAAyBC,QAAzB,EAAmC;AACjC,QAAMC,IAAI,GAAG;AACXC,IAAAA,KAAK,EAAEA,KADI;AAEXF,IAAAA,QAAQ,EAAEA;AAFC,GAAb;AAIA,QAAMG,MAAM,GAAG;AACb,oBAAgB;AADH,GAAf;AAGA,SAAOC,KAAK,CACTC,IADI,CACC,oCADD,EACuCJ,IADvC,EAC6CE,MAD7C,EAEJG,IAFI,CAEC,UAASC,QAAT,EAAmB;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACN,IAAT,CAAcS,KAA1B;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCL,QAAQ,CAACN,IAAT,CAAcS,KAAlD;AACD,GALI,EAMJG,KANI,CAOH,UAASC,KAAT,EAAgB;AACd,SAAKC,QAAL,CAAc;AAAED,MAAAA;AAAF,KAAd;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACD,GAHD,CAGEE,IAHF,CAGO,IAHP,CAPG,EAYJV,IAZI,CAaH,YAAW;AACT,SAAKS,QAAL,CAAc;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,SAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,GAHD,CAGEJ,IAHF,CAGO,IAHP,CAbG,CAAP;AAkBD","sourcesContent":["export const authenticationService = {\n  login,\n  logout\n};\n\nfunction login(username, password) {\n  const data = {\n    email: email,\n    password: password\n  };\n  const header = {\n    \"Content-Type\": \"application/json\"\n  };\n  return axios\n    .post(\"http://[::1]:3000/characters/login\", data, header)\n    .then(function(response) {\n      console.log(response.data.token);\n      localStorage.setItem(\"currentUser\", response.data.token);\n    })\n    .catch(\n      function(error) {\n        this.setState({ error });\n        console.log(error);\n      }.bind(this)\n    )\n    .then(\n      function() {\n        this.setState({ loading: false });\n        this.props.history.push(\"/\");\n      }.bind(this)\n    );\n}\n"]},"metadata":{},"sourceType":"module"}